package com.testng.test;

import org.openqa.selenium.By;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

import com.testng.base.WebAutoTest;

public class OpenTest {

	@Test
	public void openBrowser() throws InterruptedException {
//		WebAutoTest.openBrowser("http://www.baidu.com", "chrome");
		WebAutoTest.openBrowser("https://mail.126.com/", "chrome");
		Thread.sleep(2000);
		System.out.println("----------" + WebAutoTest.getDriver().getCurrentUrl());
		WebAutoTest.switchToFrame(By.xpath("//div[@id='loginDiv']//iframe"));
		WebAutoTest.inputText(By.cssSelector(".j-inputtext.dlemail.j-nameforslide"), "123");
//		WebAutoTest.inputText(By.xpath("//input[contains(@class , 'j-inputtext dlemail j-nameforslide')]"), "123");
//		assertEquals(WebAutoTest.getElementText(By.xpath("//a[@class='mnav'][1]")), "新闻");
		System.out.println("@Test");
	}

	@BeforeMethod
	public void beforeMethod() {
		System.out.println("@BeforeMethod");
	}

	@AfterMethod
	public void afterMethod() {
		// 关闭当前浏览器
//		WebAutoTest.closeCurrentBrowser();
		// 关闭所有selenium驱动打开的浏览器
		WebAutoTest.closeAllBrowser();
		System.out.println("@AfterMethod");
	}

	@BeforeTest
	public void beforeTest() {
		System.out.println("@BeforeTest");
	}

	@AfterTest
	public void afterTest() {
		System.out.println("@AfterTest");
	}

}
